{"version":3,"file":"login-BJ73eQ53.js","sources":["../../../../frontend/pages/login.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n    function login(event) {\r\n        event.preventDefault();\r\n\r\n        let formData = new FormData(document.querySelector(\"#loginForm\"));\r\n        let jsonRequestBody = {};\r\n        formData.forEach((value, key) => {\r\n            jsonRequestBody[key] = value;\r\n        });\r\n        console.log(jsonRequestBody);\r\n        fetch(\"/api/login\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify(jsonRequestBody),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(response => {\r\n                console.log(\"Response: \" + response.status);\r\n                if (response.ok) return response.json();\r\n                else throw \"Wrong username/password\";\r\n            })\r\n            .then(myJson => {\r\n                console.log(myJson);\r\n                window.sessionStorage.setItem(\"myJWT\", myJson.JWT);\r\n                window.location.href = \"./account.html\";\r\n            })\r\n            .catch(error => console.log(error))\r\n    }\r\n\r\n    document.querySelector(\"#loginForm\").addEventListener(\"submit\", login);\r\n});\r\n"],"names":["login","event","formData","jsonRequestBody","value","key","response","myJson","error"],"mappings":"yEAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,SAASA,EAAMC,EAAO,CAClBA,EAAM,eAAc,EAEpB,IAAIC,EAAW,IAAI,SAAS,SAAS,cAAc,YAAY,CAAC,EAC5DC,EAAkB,CAAA,EACtBD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC7BF,EAAgBE,CAAG,EAAID,CACnC,CAAS,EACD,QAAQ,IAAID,CAAe,EAC3B,MAAM,aAAc,CAChB,OAAQ,OACR,KAAM,KAAK,UAAUA,CAAe,EACpC,QAAS,CACL,eAAgB,kBACnB,CACb,CAAS,EACI,KAAKG,GAAY,CAEd,GADA,QAAQ,IAAI,aAAeA,EAAS,MAAM,EACtCA,EAAS,GAAI,OAAOA,EAAS,KAAI,EAChC,KAAM,yBAC3B,CAAa,EACA,KAAKC,GAAU,CACZ,QAAQ,IAAIA,CAAM,EAClB,OAAO,eAAe,QAAQ,QAASA,EAAO,GAAG,EACjD,OAAO,SAAS,KAAO,gBACvC,CAAa,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACzC,CAED,SAAS,cAAc,YAAY,EAAE,iBAAiB,SAAUR,CAAK,CACzE,CAAC"}