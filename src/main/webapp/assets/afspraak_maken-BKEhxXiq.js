import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */window.onload=function(){const o=sessionStorage.getItem("myJWT");if(!o){window.location.href="./login.html";return}fetch("/restservices/user",{method:"GET",headers:{Authorization:"Bearer "+o,"Content-Type":"application/json"}}).then(e=>{if(!e.ok)throw new Error("Network error. Status: "+e.status);return e.json()}).then(e=>{document.getElementById("name").value=e.realName,document.getElementById("email").value=e.email}).catch(e=>{console.error("Error:",e),alert("Failed to fetch user: "+e.message),window.location.href="./customer_dashboard.html"});const r=document.querySelectorAll(".timeslots button"),a=document.getElementById("time"),s=document.getElementById("appointmentForm");r.forEach(e=>{e.addEventListener("click",function(){r.forEach(n=>n.classList.remove("selected")),this.classList.add("selected"),a.value=this.innerText})}),s.addEventListener("submit",function(e){if(e.preventDefault(),!a.value){alert("Selecteer een tijdslot.");return}const n=new FormData(s),i=JSON.stringify(Object.fromEntries(n.entries()));fetch("/restservices/appointment",{method:"POST",headers:{Authorization:"Bearer "+o,"Content-Type":"application/json"},body:i}).then(t=>{if(t.ok)alert("Afspraak succesvol aangemaakt!"),window.location.href="./customer_dashboard.html";else{if(t.status===400)return t.json().then(c=>{throw new Error(c.error||"Voer een geldige datum in.")});throw new Error("Afspraak aanmaken mislukt.")}}).catch(t=>{console.error("Error:",t),alert(t.message)})})};
//# sourceMappingURL=afspraak_maken-BKEhxXiq.js.map
