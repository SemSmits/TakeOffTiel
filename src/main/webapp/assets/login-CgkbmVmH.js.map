{"version":3,"file":"login-CgkbmVmH.js","sources":["../../../../frontend/pages/login.js"],"sourcesContent":["document.querySelector(\"#login\").addEventListener(\"click\", function () {\r\n\r\n    let formData = new FormData(document.querySelector(\"#loginForm\"));\r\n    let jsonRequestBody = {};\r\n    formData.forEach((value, key) => {\r\n        jsonRequestBody[key] = value;\r\n    });\r\n    console.log(jsonRequestBody);\r\n    fetch(\"/restservices/account/login\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(jsonRequestBody),\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        }\r\n    })\r\n        .then(response => {\r\n            console.log(\"Response: \" + response.status);\r\n            if (response.ok) return response.json();\r\n            else throw \"Wrong username/password\";\r\n        })\r\n        .then(myJson => {\r\n            console.log(myJson);\r\n            window.sessionStorage.setItem(\"myJWT\", myJson.JWT);\r\n            window.location.href = \"./account.html\";\r\n        })\r\n        .catch(error => console.log(error))\r\n});\r\n\r\n\r\n\r\n"],"names":["formData","jsonRequestBody","value","key","response","myJson","error"],"mappings":"yEAAA,SAAS,cAAc,QAAQ,EAAE,iBAAiB,QAAS,UAAY,CAEnE,IAAIA,EAAW,IAAI,SAAS,SAAS,cAAc,YAAY,CAAC,EAC5DC,EAAkB,CAAA,EACtBD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC7BF,EAAgBE,CAAG,EAAID,CAC/B,CAAK,EACD,QAAQ,IAAID,CAAe,EAC3B,MAAM,8BAA+B,CACjC,OAAQ,OACR,KAAM,KAAK,UAAUA,CAAe,EACpC,QAAS,CACL,eAAgB,kBACnB,CACT,CAAK,EACI,KAAKG,GAAY,CAEd,GADA,QAAQ,IAAI,aAAeA,EAAS,MAAM,EACtCA,EAAS,GAAI,OAAOA,EAAS,KAAI,EAChC,KAAM,yBACvB,CAAS,EACA,KAAKC,GAAU,CACZ,QAAQ,IAAIA,CAAM,EAClB,OAAO,eAAe,QAAQ,QAASA,EAAO,GAAG,EACjD,OAAO,SAAS,KAAO,gBACnC,CAAS,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C,CAAC"}