window.onload=function(){const t=sessionStorage.getItem("myJWT");if(!t){window.location.href="./login.html";return}fetch("/restservices/user",{method:"GET",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then(e=>{if(!e.ok)throw new Error("Network error. Status: "+e.status);return e.json()}).then(e=>{document.getElementById("username").textContent=e.username,document.getElementById("email").textContent=e.email}).catch(e=>{console.error("Error:",e),alert("Failed to fetch user: "+e.message),window.location.href="./login.html"}),document.getElementById("change-password-btn").addEventListener("click",r)};function r(){const t=prompt("Voer uw nieuwe wachtwoord in:");if(!t){alert("Wachtwoord wijzigen geannuleerd.");return}const e=sessionStorage.getItem("myJWT");if(!e){window.location.href="./login.html";return}fetch("/restservices/user/password",{method:"PUT",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"},body:JSON.stringify({password:t})}).then(o=>{if(!o.ok)throw new Error("Network error. Status: "+o.status);alert("Wachtwoord succesvol gewijzigd.")}).catch(o=>{console.error("Error:",o),alert("Failed to change password: "+o.message)})}
//# sourceMappingURL=account-4YACg4Fe.js.map
