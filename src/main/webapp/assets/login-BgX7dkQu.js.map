{"version":3,"file":"login-BgX7dkQu.js","sources":["../../../../frontend/pages/login.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n    function login() {\r\n        let formData = new FormData(document.querySelector(\"#loginForm\"));\r\n        let jsonRequestBody = {};\r\n        formData.forEach((key, value) => jsonRequestBody[key] = value);\r\n\r\n        fetch(\"/api/auth/login\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify(jsonRequestBody),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(function(response) {\r\n                console.log(response.status);\r\n                if (response.ok) return response.json(); // if 200 there will be a body\r\n                else throw \"Wrong username/password\"; // if !200 there will be no body\r\n            })\r\n            .then(myJson => {\r\n                console.log(myJson);\r\n                window.sessionStorage.setItem(\"myJWT\", myJson.JWT);\r\n                window.location.href = \"account.html\";\r\n            })\r\n            .catch(error => console.log(error)); // to handle the possibly thrown error\r\n    }\r\n\r\n    document.querySelector(\"#login\").addEventListener(\"click\", login());\r\n});\r\n"],"names":["login","formData","jsonRequestBody","key","value","response","myJson","error"],"mappings":"yEAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,SAASA,GAAQ,CACb,IAAIC,EAAW,IAAI,SAAS,SAAS,cAAc,YAAY,CAAC,EAC5DC,EAAkB,CAAA,EACtBD,EAAS,QAAQ,CAACE,EAAKC,IAAUF,EAAgBC,CAAG,EAAIC,CAAK,EAE7D,MAAM,kBAAmB,CACrB,OAAQ,OACR,KAAM,KAAK,UAAUF,CAAe,EACpC,QAAS,CACL,eAAgB,kBACnB,CACb,CAAS,EACI,KAAK,SAASG,EAAU,CAErB,GADA,QAAQ,IAAIA,EAAS,MAAM,EACvBA,EAAS,GAAI,OAAOA,EAAS,KAAI,EAChC,KAAM,yBAC3B,CAAa,EACA,KAAKC,GAAU,CACZ,QAAQ,IAAIA,CAAM,EAClB,OAAO,eAAe,QAAQ,QAASA,EAAO,GAAG,EACjD,OAAO,SAAS,KAAO,cACvC,CAAa,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACzC,CAED,SAAS,cAAc,QAAQ,EAAE,iBAAiB,QAASP,EAAK,CAAE,CACtE,CAAC"}